{"version":3,"sources":["CustomAccordion/index.jsx","App.jsx","index.js"],"names":["middleContainerStyle","position","width","padding","margin","CustomAccordionPair","header","content","opened","setOpened","contentRef","useRef","calcMaxHeight","current","scrollHeight","useReducer","maxHeight","updateMaxHeight","useEffect","resizeHandler","functor","delay","lastCall","args","context","timeout","now","Date","apply","this","arguments","setTimeout","throttle","window","addEventListener","removeEventListener","Fragment","onClick","style","overflowX","overflowY","transition","ref","CustomAccordion","children","opendedInitial","multiopen","acc","id","value","Object","entries","map","key","Array","length","fill","_","index","headerStyle","boxSizing","outline","fontSize","contentStyle","background","App","paddingTop","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.86bde168.chunk.js","sourcesContent":["import React, { useEffect, useReducer, useRef, useState } from \"react\"\r\n\r\nconst middleContainerStyle = {\r\n    position : 'relative',\r\n    width : '100%',\r\n    padding: 0,\r\n    margin : 0\r\n}\r\n\r\nfunction throttle(functor, delay) {\r\n    //чтобы не загружать лодаш ради одной функции\r\n    let lastCall = 0;\r\n    let args = null;\r\n    let context = null;\r\n    let timeout = null;\r\n  \r\n    return function () {\r\n      const now = +new Date();\r\n      if (now >= lastCall + delay) {\r\n        lastCall = now;\r\n        functor.apply(this, arguments);\r\n      } else {\r\n        lastCall = now;\r\n        args = arguments;\r\n        context = this;\r\n  \r\n        if (!timeout) {\r\n          timeout = setTimeout(() => {\r\n            timeout = null;\r\n            functor.apply(context, args);\r\n          }, delay);\r\n        }\r\n      }\r\n    };\r\n  }\r\n  \r\n\r\n\r\n\r\nfunction CustomAccordionPair({header, content, opened, setOpened}){\r\n    const contentRef = useRef()\r\n\r\n    const calcMaxHeight = () => !opened? 0 : contentRef && contentRef.current ? contentRef.current.scrollHeight : 1000\r\n\r\n    const [maxHeight, updateMaxHeight] = useReducer(calcMaxHeight, calcMaxHeight())\r\n\r\n    useEffect(() => {\r\n        const resizeHandler = throttle(updateMaxHeight, 200)\r\n        window.addEventListener('resize', resizeHandler)\r\n        return () => window.removeEventListener('resize', resizeHandler)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        updateMaxHeight()\r\n    }, [opened])\r\n\r\n\r\n    return <React.Fragment>\r\n        <div\r\n            key=\"header\" \r\n            onClick={() => setOpened(!opened)} style={{...middleContainerStyle}}>\r\n            {header}\r\n        </div>\r\n        <div \r\n            key=\"content\"\r\n            style={{...middleContainerStyle,\r\n                     overflowX: 'auto', \r\n                     overflowY :'hidden',\r\n                     maxHeight : maxHeight,\r\n                     transition: `max-height .3s linear`\r\n                     }}>\r\n            <div ref={contentRef} style={{...middleContainerStyle}}>{content}</div>\r\n        </div>\r\n    </React.Fragment>\r\n}\r\n\r\nexport default function CustomAccordion({children, opendedInitial=[], multiopen=false, style={}})\r\n{\r\n    const [opened, setOpened] = useReducer((acc, {id, value}) => ({...(multiopen? acc : {}), [id] : value}), Object.entries(opendedInitial.map(key => [key, true])))\r\n\r\n\r\n    \r\n\r\n    return <div style={{position: 'relative', 'width':'100%', ...style}}>\r\n        {\r\n            children && new Array(children.length / 2).fill(null).map((_, index) => {\r\n                return <CustomAccordionPair \r\n                            key={index} \r\n                            header={children[index * 2]} \r\n                            content={children[index * 2 + 1]}\r\n                            opened={opened[index]}\r\n                            setOpened={(value) => setOpened({id: index, value})}\r\n                            />\r\n            })\r\n        }\r\n    </div>\r\n}","import CustomAccordion from \"./CustomAccordion\"\r\n\r\n\r\nconst headerStyle = {\r\n    padding: 10,\r\n    boxSizing : 'border-box',\r\n    outline: `1px solid gray`,\r\n    width: '100%',\r\n    fontSize : 20,\r\n}\r\nconst contentStyle = {\r\n    ...headerStyle,\r\n    background: '#f08080',\r\n    fontSize : 12,\r\n}\r\n\r\nexport default function App(){\r\n    return <div>\r\n                <CustomAccordion\r\n                    style={{width : '80vw'}}\r\n                >\r\n                    <div style={headerStyle}>\r\n                        abc\r\n                    </div>\r\n                    <div style={contentStyle}>\r\n                        Lorem ipsum dolor sit amet consectetur, adipisicing elit. Libero beatae ut placeat explicabo impedit! Consequatur eveniet nemo voluptas magni. Labore id distinctio odit molestias ab iure, placeat nulla tenetur ipsum.\r\n                    </div>\r\n\r\n                    <div style={headerStyle}>\r\n                        bcd\r\n                    </div>\r\n                    <div style={contentStyle}>\r\n                        123\r\n                    </div>\r\n                </CustomAccordion>\r\n\r\n                <h2 style={{paddingTop: 100}}>Ну и с мультиопеном</h2>\r\n                <CustomAccordion opendedInitial={[1,3]} multiopen={true}>\r\n                    <div style={headerStyle}>\r\n                            1\r\n                    </div>\r\n                    <div style={contentStyle}>\r\n                        c1\r\n                    </div>\r\n\r\n                    <div style={headerStyle}>\r\n                            2\r\n                    </div>\r\n                    <div style={contentStyle}>\r\n                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Maxime esse adipisci nesciunt est, recusandae cumque? Laudantium nisi harum, aperiam beatae ipsum nesciunt. Labore id itaque nisi maiores, nam inventore voluptas.\r\n                        Perferendis laborum in maiores voluptatibus culpa vero voluptatem, ducimus animi veniam accusamus repudiandae obcaecati alias quo! Quisquam fuga sequi eius itaque repellat nobis id ducimus obcaecati natus? Fugit, tempora provident?\r\n                        At quod incidunt blanditiis eos veniam, id nisi, facere rerum, expedita molestiae rem porro! Obcaecati voluptatum distinctio asperiores qui repellendus at animi, consequuntur, fuga quaerat ut modi quis laboriosam facilis.\r\n                        Mollitia quas nostrum quo tempora numquam dolores nemo ad soluta aut nisi cum, autem hic rem possimus voluptatum unde dicta quae eligendi quisquam. Rem suscipit minima laborum ipsam pariatur. Fugit!\r\n                        Laboriosam amet doloremque maxime dolore eos a iste dolorem at, blanditiis tempora aut consequatur veritatis iure cum, ad recusandae officiis fuga suscipit sapiente voluptatibus nam. In quidem laborum nemo deserunt.\r\n                        Optio nobis officia a rerum earum impedit voluptatum aut iste necessitatibus excepturi dicta nisi in saepe vitae accusamus, quas odit quam molestiae harum sapiente minus debitis inventore ut? Quia, accusantium.\r\n                        Non reprehenderit sint laboriosam iusto aliquam ipsam est nobis aperiam explicabo beatae excepturi, ratione porro, repellat a laudantium magnam dignissimos hic qui odit architecto aliquid obcaecati similique libero. In, aliquid.\r\n                        Neque, iure esse. Officia asperiores nostrum laudantium, quisquam error earum fuga, totam sed quam, molestias vitae eveniet dicta magnam inventore quidem repellendus enim labore incidunt ut. Exercitationem numquam expedita amet!\r\n                        Delectus vel molestias laboriosam! Harum dolores debitis quidem, aliquid necessitatibus repudiandae cum similique ex, atque quas non optio autem cupiditate sint ad sed asperiores ducimus amet earum et? Officiis, totam!\r\n                        Voluptatibus, aliquid laboriosam ea quidem cum, eum in, ab error repudiandae dolorum ullam excepturi nulla quam. In illum, animi reprehenderit debitis sunt ipsam soluta recusandae quo itaque ea est fuga!\r\n                    </div>\r\n\r\n                    <div style={headerStyle}>\r\n                            3\r\n                    </div>\r\n                    <div style={contentStyle}>\r\n                        c3\r\n                    </div>\r\n\r\n                    <div style={headerStyle}>\r\n                            4\r\n                    </div>\r\n                    <div style={contentStyle}>\r\n                        c4\r\n                    </div>\r\n\r\n                    <div style={headerStyle}>\r\n                            5\r\n                    </div>\r\n                    <div style={contentStyle}>\r\n                        c5\r\n                    </div>\r\n                </CustomAccordion>\r\n            </div>\r\n    \r\n\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}